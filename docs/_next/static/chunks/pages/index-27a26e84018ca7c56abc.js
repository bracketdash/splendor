(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3646:function(e,n,t){var r=t(7228);e.exports=function(e){if(Array.isArray(e))return r(e)}},9713:function(e){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:function(e,n,t){var r=t(3646),s=t(6860),o=t(379),a=t(8206);e.exports=function(e){return r(e)||s(e)||o(e)||a()}},3398:function(e,n,t){"use strict";var r;n.__esModule=!0,n.AmpStateContext=void 0;var s=((r=t(7294))&&r.__esModule?r:{default:r}).default.createContext({});n.AmpStateContext=s},6393:function(e,n,t){"use strict";n.__esModule=!0,n.isInAmpMode=a,n.useAmp=function(){return a(s.default.useContext(o.AmpStateContext))};var r,s=(r=t(7294))&&r.__esModule?r:{default:r},o=t(3398);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.ampFirst,t=void 0!==n&&n,r=e.hybrid,s=void 0!==r&&r,o=e.hasQuery,a=void 0!==o&&o;return t||s&&a}},2775:function(e,n,t){"use strict";var r=t(9713);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}n.__esModule=!0,n.defaultHead=g,n.default=void 0;var o,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=p();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(t,s,o):t[s]=e[s]}t.default=e,n&&n.set(e,t);return t}(t(7294)),l=(o=t(3244))&&o.__esModule?o:{default:o},i=t(3398),u=t(1165),c=t(6393);function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function g(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[a.default.createElement("meta",{charSet:"utf-8"})];return e||n.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),n}function v(e,n){return"string"===typeof n||"number"===typeof n?e:n.type===a.default.Fragment?e.concat(a.default.Children.toArray(n.props.children).reduce((function(e,n){return"string"===typeof n||"number"===typeof n?e:e.concat(n)}),[])):e.concat(n)}var d=["name","httpEquiv","charSet","itemProp"];function f(e,n){return e.reduce((function(e,n){var t=a.default.Children.toArray(n.props.children);return e.concat(t)}),[]).reduce(v,[]).reverse().concat(g(n.inAmpMode)).filter(function(){var e=new Set,n=new Set,t=new Set,r={};return function(s){var o=!0,a=!1;if(s.key&&"number"!==typeof s.key&&s.key.indexOf("$")>0){a=!0;var l=s.key.slice(s.key.indexOf("$")+1);e.has(l)?o=!1:e.add(l)}switch(s.type){case"title":case"base":n.has(s.type)?o=!1:n.add(s.type);break;case"meta":for(var i=0,u=d.length;i<u;i++){var c=d[i];if(s.props.hasOwnProperty(c))if("charSet"===c)t.has(c)?o=!1:t.add(c);else{var p=s.props[c],g=r[c]||new Set;"name"===c&&a||!g.has(p)?(g.add(p),r[c]=g):o=!1}}}return o}}()).reverse().map((function(e,t){var o=e.key||t;if(!n.inAmpMode&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((function(n){return e.props.href.startsWith(n)}))){var l=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e.props||{});return l["data-href"]=l.href,l.href=void 0,l["data-optimized-fonts"]=!0,a.default.cloneElement(e,l)}return a.default.cloneElement(e,{key:o})}))}var m=function(e){var n=e.children,t=(0,a.useContext)(i.AmpStateContext),r=(0,a.useContext)(u.HeadManagerContext);return a.default.createElement(l.default,{reduceComponentsToState:f,headManager:r,inAmpMode:(0,c.isInAmpMode)(t)},n)};n.default=m},3244:function(e,n,t){"use strict";var r=t(319),s=t(4575),o=t(3913),a=(t(1506),t(2205)),l=t(8585),i=t(9754);function u(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=i(e);if(n){var s=i(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return l(this,t)}}n.__esModule=!0,n.default=void 0;var c=t(7294),p=function(e){a(t,e);var n=u(t);function t(e){var o;return s(this,t),(o=n.call(this,e))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(r(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(t,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),t}(c.Component);n.default=p},5416:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(5893),s=t(7294),o=t(9008);function a(e){return e.card?(0,r.jsxs)("div",{className:"card ".concat(e.card.bonus),children:[(0,r.jsxs)("div",{className:"card-banner",children:[(0,r.jsx)("div",{className:"card-points",children:e.card.points?"+".concat(e.card.points):""}),(0,r.jsx)("div",{className:e.card.level>2?"time-stone":"time-stone hide"}),Array(e.card.avengersTags).fill(1).map((function(e,n){return(0,r.jsx)("div",{className:"avengers-tag",children:"A"},n)}))]}),(0,r.jsx)("div",{className:"card-cost",children:Object.keys(e.card.cost).map((function(n,t){return(0,r.jsx)("div",{className:"cost-orb ".concat(n),children:e.card.cost[n]},t)}))}),(0,r.jsx)("div",{className:"card-name",children:e.card.name}),(0,r.jsx)("div",{className:"level-stars",children:" * ".repeat(e.card.level)})]}):(0,r.jsx)("div",{className:"card null-card"})}function l(e){return(0,r.jsx)("div",{className:"token ".concat(e.color),children:e.num})}var i=["gray","yellow","red","orange","blue","purple"];function u(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:e.gameState.gameOver?"GAME OVER":"Round ".concat(e.gameState.round," - ").concat(e.gameState.players[e.gameState.whoseTurn].name,"'s turn")}),(0,r.jsx)("div",{className:"tiles-container",children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"tile",children:[(0,r.jsx)("div",{className:"tile-name",children:"Avengers Tile"}),(0,r.jsx)("div",{className:"tile-points",children:"+3"}),(0,r.jsx)("div",{className:"tile-cost",children:(0,r.jsx)("div",{className:"tile-bonus-cost",children:"3+"})}),(0,r.jsx)("div",{className:"tile-owner",children:e.gameState.avengersTileOwner?e.gameState.avengersTileOwner.name:"Not Yet Owned"})]})})}),(0,r.jsx)("div",{className:"tiles-container",children:e.gameState.locations.map((function(e,n){e.owner;return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"tile",children:[(0,r.jsx)("div",{className:"tile-name",children:e.name}),(0,r.jsx)("div",{className:"tile-points",children:"+3"}),(0,r.jsx)("div",{className:"tile-cost",children:Object.keys(e.cost).map((function(n,t){return(0,r.jsx)("div",{className:"tile-bonus-cost ".concat(n),children:e.cost[n]},t)}))}),(0,r.jsx)("div",{className:"tile-owner",children:e.owner?e.owner.name:"Not Yet Owned"})]})},n)}))}),[3,2,1].map((function(n){return(0,r.jsx)("div",{className:"level-row",children:e.gameState.freeAgents[n-1].map((function(e,n){return(0,r.jsx)(a,{card:e},n)}))},n)})),(0,r.jsx)("div",{className:"the-bank",children:i.map((function(n,t){return(0,r.jsx)(l,{color:n,num:e.gameState.bankChips[n]},t)}))})]})}var c=["gray","yellow","red","orange","blue","purple"];function p(e){return(0,r.jsxs)("div",{className:e.gameState.players[e.gameState.whoseTurn]!==e.player||e.gameState.gameOver?"player-area-container":"player-area-container active-player",children:[(0,r.jsxs)("h2",{children:[e.player.name," - ",e.player.points," Points"]}),c.map((function(n,t){return(0,r.jsx)(l,{color:n,num:e.player.tokens[n]},t)})),(0,r.jsx)("h4",{children:e.player.recruits.length>0?"Recruits":""}),(0,r.jsx)("div",{className:"cards-container",children:e.player.recruits.map((function(e,n){return(0,r.jsx)(a,{card:e},n)}))}),(0,r.jsx)("h4",{children:e.player.reserves.length>0?"Reserves":""}),(0,r.jsx)("div",{className:"cards-container",children:e.player.reserves.map((function(e,n){return(0,r.jsx)(a,{card:e},n)}))}),(0,r.jsx)("h4",{children:e.gameState.players[e.gameState.whoseTurn]===e.player?"Select A Move":""}),(0,r.jsx)("div",{className:"option-columns",children:e.gameState.players[e.gameState.whoseTurn]===e.player?Object.keys(e.gameState.options).map((function(n){return e.gameState.options[n].length?(0,r.jsxs)("div",{className:"option-column",children:[(0,r.jsx)("h3",{children:"chips"===n?"Take Chips":"".concat(n.substring(0,1).toUpperCase()).concat(n.substring(1))}),e.gameState.options[n].map((function(n,t){return(0,r.jsxs)("button",{className:n.tokens?"has-tokens":"",onClick:function(){return e.onMove(n,e.player)},children:[(0,r.jsxs)("div",{className:"action",children:[n.tokens?n.tokens.map((function(e,n){return(0,r.jsx)("span",{className:"option-token ".concat(e)},n)})):"","recruit"===n.type||"reserve"===n.type?"".concat(n.type.substring(0,1).toUpperCase()).concat(n.type.substring(1)," ").concat(("reserves"===n.level?e.player.reserves[n.index]:e.gameState.freeAgents[n.level-1][n.index]).name):"",n.location?" + ".concat(n.location.name):"",n.tokensToRemove?n.tokensToRemove.map((function(e,n){return(0,r.jsx)("span",{className:"option-token ".concat(e)},n)})):""]}),(0,r.jsx)("div",{className:"ai-score",children:n.score.toFixed(2)})]},t)}))]},n):(0,r.jsx)("div",{},n)})):(0,r.jsx)("p",{children:"\xa0"})})]})}function g(e){return e.game&&e.gameState?(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{gameState:e.gameState}),e.gameState.players.map((function(n,t){return(0,r.jsx)(p,{gameState:e.gameState,player:n,onMove:e.onMakeMove},t)}))]}):(0,r.jsx)("div",{})}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var n=(0,s.useState)([{name:"Player 1",computer:!1},{name:"Player 2",computer:!1},{name:"Player 3",computer:!1,sittingOut:!0},{name:"Player 4",computer:!1,sittingOut:!0}]),t=n[0],o=n[1];function a(e,n){o((function(t){return t[e].name=n,d(t)}))}function l(e,n){o((function(t){return t[e].computer=n,d(t)}))}return(0,r.jsxs)("div",{className:"player-config-container",children:[(0,r.jsx)("h2",{children:"Configure Players"}),t.map((function(e,n){return n<2?(0,r.jsxs)("div",{className:"player-config-row",children:[(0,r.jsx)("input",{type:"text",defaultValue:e.name,onChange:function(e){return a(n,e.target.value)}}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",defaultChecked:e.computer,onChange:function(e){return l(n,e.target.checked)}}),(0,r.jsx)("span",{children:"Computer"})]})]},n):(0,r.jsxs)("div",{className:e.sittingOut?"player-config-row sitting-out":"player-config-row",children:[(0,r.jsx)("input",{type:"text",defaultValue:e.name,onChange:function(e){return a(n,e.target.value)}}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",defaultChecked:e.computer,onChange:function(e){return l(n,e.target.checked)}}),(0,r.jsx)("span",{children:"Computer"})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",defaultChecked:e.sittingOut,onChange:function(e){return function(e,n){o((function(t){return t[e].sittingOut=n,d(t)}))}(n,e.target.checked)}}),(0,r.jsx)("span",{children:"Sitting out"})]})]},n)})),(0,r.jsx)("button",{onClick:function(){e.onStartGame(t)},children:"Start Game"})]})}function m(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=[{avengersTags:0,bonus:"blue",cost:{yellow:4},points:1,level:1,name:"Taskmaster"},{avengersTags:1,bonus:"blue",cost:{yellow:2,blue:1,orange:2},points:0,level:1,name:"Wasp"},{avengersTags:1,bonus:"blue",cost:{yellow:3,orange:1,purple:1},points:0,level:1,name:"Valkyrie"},{avengersTags:0,bonus:"blue",cost:{yellow:2,purple:2},points:0,level:1,name:"Elektra"},{avengersTags:0,bonus:"blue",cost:{blue:1,orange:1,red:2,purple:1},points:0,level:1,name:"Bullseye"},{avengersTags:0,bonus:"blue",cost:{yellow:3},points:0,level:1,name:"Moon Knight"},{avengersTags:0,bonus:"blue",cost:{yellow:2,red:1},points:0,level:1,name:"Spider-Man 2099"},{avengersTags:0,bonus:"blue",cost:{yellow:1,blue:1,orange:1,purple:1},points:0,level:1,name:"Lockjaw"},{avengersTags:0,bonus:"orange",cost:{purple:4},points:1,level:1,name:"Yondu"},{avengersTags:1,bonus:"orange",cost:{blue:1,red:1,purple:3},points:0,level:1,name:"Kate Bishop"},{avengersTags:1,bonus:"orange",cost:{yellow:1,blue:2,purple:2},points:0,level:1,name:"Hawkeye"},{avengersTags:0,bonus:"orange",cost:{blue:1,orange:1,red:1,purple:2},points:0,level:1,name:"Scarlet Spider"},{avengersTags:0,bonus:"orange",cost:{yellow:1,purple:2},points:0,level:1,name:"Spider-Ham"},{avengersTags:0,bonus:"orange",cost:{purple:3},points:0,level:1,name:"Silver Sable"},{avengersTags:0,bonus:"orange",cost:{yellow:1,blue:1,orange:1,purple:1},points:0,level:1,name:"Spider-Girl"},{avengersTags:0,bonus:"orange",cost:{yellow:1,purple:2},points:0,level:1,name:"Kingpin"},{avengersTags:0,bonus:"purple",cost:{blue:4},points:1,level:1,name:"Scorpion"},{avengersTags:1,bonus:"purple",cost:{blue:2,orange:1,red:2},points:0,level:1,name:"Winter Soldier"},{avengersTags:1,bonus:"purple",cost:{yellow:1,blue:3,red:1},points:0,level:1,name:"America Chavez"},{avengersTags:0,bonus:"purple",cost:{yellow:2,blue:2},points:0,level:1,name:"Gorgon"},{avengersTags:0,bonus:"purple",cost:{blue:3},points:0,level:1,name:"Kraven"},{avengersTags:0,bonus:"purple",cost:{blue:2,purple:1},points:0,level:1,name:"Lizard"},{avengersTags:0,bonus:"purple",cost:{blue:2,orange:1,red:1,purple:1},points:0,level:1,name:"Abomination"},{avengersTags:0,bonus:"purple",cost:{yellow:1,blue:1,orange:1,purple:1},points:0,level:1,name:"Rhino"},{avengersTags:0,bonus:"red",cost:{orange:4},points:1,level:1,name:"Sandman"},{avengersTags:1,bonus:"red",cost:{yellow:2,orange:2,red:1},points:0,level:1,name:"Ms. Marvel"},{avengersTags:1,bonus:"red",cost:{blue:1,orange:3,purple:1},points:0,level:1,name:"Quake"},{avengersTags:0,bonus:"red",cost:{yellow:1,blue:1,orange:1,red:1},points:0,level:1,name:"Triton"},{avengersTags:0,bonus:"red",cost:{orange:2,purple:2},points:0,level:1,name:"Crystal"},{avengersTags:0,bonus:"red",cost:{yellow:1,blue:1,orange:2,red:1},points:0,level:1,name:"Wong"},{avengersTags:0,bonus:"red",cost:{orange:3},points:0,level:1,name:"Mysterio"},{avengersTags:0,bonus:"red",cost:{orange:2,red:1},points:0,level:1,name:"Electro"},{avengersTags:0,bonus:"yellow",cost:{red:4},points:1,level:1,name:"Vulture"},{avengersTags:1,bonus:"yellow",cost:{yellow:1,blue:1,red:3},points:0,level:1,name:"Spider-Woman"},{avengersTags:1,bonus:"yellow",cost:{orange:1,red:2,purple:2},points:0,level:1,name:"Squirrel Girl"},{avengersTags:0,bonus:"yellow",cost:{blue:1,orange:1,red:2,purple:1},points:0,level:1,name:"Prowler"},{avengersTags:0,bonus:"yellow",cost:{orange:2,red:2},points:0,level:1,name:"M.O.D.O.K."},{avengersTags:0,bonus:"yellow",cost:{yellow:1,red:2},points:0,level:1,name:"Rocket"},{avengersTags:0,bonus:"yellow",cost:{red:3},points:0,level:1,name:"Baron Zemo"},{avengersTags:0,bonus:"yellow",cost:{yellow:1,blue:1,red:1,purple:1},points:0,level:1,name:"Grandmaster"},{avengersTags:0,bonus:"blue",cost:{purple:6},points:3,level:2,name:"Nebula"},{avengersTags:0,bonus:"blue",cost:{red:3,purple:5},points:2,level:2,name:"Black Cat"},{avengersTags:0,bonus:"blue",cost:{blue:2,orange:1,purple:4},points:2,level:2,name:"Ghost-Spider"},{avengersTags:0,bonus:"blue",cost:{purple:5},points:2,level:2,name:"Miles Morales"},{avengersTags:1,bonus:"blue",cost:{blue:2,orange:2,purple:3},points:1,level:2,name:"War Machine"},{avengersTags:1,bonus:"blue",cost:{yellow:2,red:3,purple:3},points:1,level:2,name:"Quicksilver"},{avengersTags:0,bonus:"orange",cost:{red:6},points:3,level:2,name:"Daredevil"},{avengersTags:0,bonus:"orange",cost:{red:5},points:2,level:2,name:"Punisher"},{avengersTags:0,bonus:"orange",cost:{purple:3,red:5},points:2,level:2,name:"Groot"},{avengersTags:0,bonus:"orange",cost:{blue:1,orange:2,red:4},points:2,level:2,name:"Star-Lord"},{avengersTags:1,bonus:"orange",cost:{yellow:3,red:3,purple:2},points:1,level:2,name:"Falcon"},{avengersTags:1,bonus:"orange",cost:{orange:2,red:3,purple:2},points:1,level:2,name:"Nick Fury"},{avengersTags:0,bonus:"purple",cost:{yellow:6},points:3,level:2,name:"Jessica Jones"},{avengersTags:0,bonus:"purple",cost:{yellow:5},points:2,level:2,name:"Ronan"},{avengersTags:0,bonus:"purple",cost:{yellow:5,red:3},points:2,level:2,name:"Carnage"},{avengersTags:0,bonus:"purple",cost:{yellow:4,blue:2,orange:1},points:2,level:2,name:"Crossbones"},{avengersTags:1,bonus:"purple",cost:{yellow:3,orange:2,purple:2},points:1,level:2,name:"She-Hulk"},{avengersTags:1,bonus:"purple",cost:{yellow:3,blue:2,purple:3},points:1,level:2,name:"Okoye"},{avengersTags:0,bonus:"red",cost:{blue:6},points:3,level:2,name:"Hela"},{avengersTags:0,bonus:"red",cost:{blue:5},points:2,level:2,name:"Venom"},{avengersTags:0,bonus:"red",cost:{orange:3,blue:5},points:2,level:2,name:"Medusa"},{avengersTags:0,bonus:"red",cost:{yellow:2,blue:4,purple:1},points:2,level:2,name:"Ghost Rider"},{avengersTags:1,bonus:"red",cost:{yellow:2,blue:3,red:2},points:1,level:2,name:"Scarlet Witch"},{avengersTags:1,bonus:"red",cost:{blue:3,orange:2,red:3},points:1,level:2,name:"Beta Ray Bill"},{avengersTags:0,bonus:"yellow",cost:{orange:6},points:3,level:2,name:"Red Skull"},{avengersTags:0,bonus:"yellow",cost:{orange:5},points:2,level:2,name:"The Collector"},{avengersTags:0,bonus:"yellow",cost:{yellow:3,orange:5},points:2,level:2,name:"Karnak"},{avengersTags:0,bonus:"yellow",cost:{blue:2,orange:4,red:1},points:2,level:2,name:"Maximus"},{avengersTags:1,bonus:"yellow",cost:{blue:2,orange:3,purple:2},points:1,level:2,name:"Maria Hill"},{avengersTags:1,bonus:"yellow",cost:{yellow:3,blue:2,orange:3},points:1,level:2,name:"Shuri"},{avengersTags:0,bonus:"blue",cost:{orange:3,red:7},points:5,level:3,name:"Gamora"},{avengersTags:1,bonus:"blue",cost:{yellow:3,orange:3,red:6},points:4,level:3,name:"Ant-Man"},{avengersTags:0,bonus:"blue",cost:{red:7},points:4,level:3,name:"Iron Fist"},{avengersTags:2,bonus:"blue",cost:{yellow:3,blue:3,red:5,purple:3},points:3,level:3,name:"Black Widow"},{avengersTags:0,bonus:"orange",cost:{yellow:7,red:3},points:5,level:3,name:"Spider-Man"},{avengersTags:1,bonus:"orange",cost:{yellow:6,orange:3,purple:3},points:4,level:3,name:"Black Panther"},{avengersTags:0,bonus:"orange",cost:{yellow:7},points:4,level:3,name:"Black Bolt"},{avengersTags:2,bonus:"orange",cost:{yellow:5,blue:3,orange:3,purple:3},points:3,level:3,name:"Captain America"},{avengersTags:0,bonus:"purple",cost:{yellow:3,orange:7},points:5,level:3,name:"Luke Cage"},{avengersTags:1,bonus:"purple",cost:{blue:3,orange:6,purple:3},points:4,level:3,name:"Captain Marvel"},{avengersTags:0,bonus:"purple",cost:{orange:7},points:4,level:3,name:"Drax"},{avengersTags:2,bonus:"purple",cost:{blue:3,orange:5,red:3,purple:3},points:3,level:3,name:"Hulk"},{avengersTags:0,bonus:"red",cost:{blue:3,purple:7},points:5,level:3,name:"Loki"},{avengersTags:1,bonus:"red",cost:{red:3,orange:3,purple:6},points:4,level:3,name:"Nova"},{avengersTags:0,bonus:"red",cost:{purple:7},points:4,level:3,name:"Doctor Strange"},{avengersTags:2,bonus:"red",cost:{yellow:3,blue:3,red:3,purple:5},points:3,level:3,name:"Hulk"},{avengersTags:0,bonus:"yellow",cost:{blue:7,purple:3},points:5,level:3,name:"Green Goblin"},{avengersTags:1,bonus:"yellow",cost:{yellow:3,blue:6,red:3},points:4,level:3,name:"Vision"},{avengersTags:0,bonus:"yellow",cost:{blue:7},points:4,level:3,name:"Doctor Octopus"},{avengersTags:2,bonus:"yellow",cost:{yellow:3,blue:5,orange:3,red:3},points:3,level:3,name:"Iron Man"}],b=[{cost:{blue:4,yellow:4},name:"Avengers Tower, NYC"},{cost:{purple:4,red:4},name:"Attilan"},{cost:{orange:4,yellow:4},name:"Hell's Kitchen, NYC"},{cost:{orange:4,purple:4},name:"Triskelion"},{cost:{orange:4,yellow:4},name:"Hell's Kitchen, NYC"},{cost:{blue:4,red:4},name:"Wakanda"},{cost:{orange:3,purple:3,yellow:3},name:"Asgard"},{cost:{blue:3,red:3,yellow:3},name:"Knowhere"},{cost:{blue:3,purple:3,red:3},name:"Atlantis"}],y=["blue","orange","purple","red","yellow"];function k(e){return Array(e).fill(null)}function w(e){return e.sort((function(){return Math.random()>.5?1:-1}))}var T=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var r=[null,null,4,5,7],s=w(b);this.avengersTileOwner=null,this.decks=[w(h.filter((function(e){return 1===e.level}))),w(h.filter((function(e){return 2===e.level}))),w(h.filter((function(e){return 3===e.level})))],this.freeAgents=[k(4).map((function(){return t.decks[0].pop()})),k(4).map((function(){return t.decks[1].pop()})),k(4).map((function(){return t.decks[2].pop()}))],this.locations=k(n.length).map((function(){return s.pop()})),this.players=n.map((function(e){var n=e.computer,t=e.name,r=y.reduce((function(e,n){return e[n]=0,e}),{});return r.gray=0,{computer:n,name:t,recruits:[],reserves:[],tokens:r}})),this.round=1,this.whoseTurn=0,this.bankChips=y.reduce((function(e,t){return e[t]=r[n.length],e}),{}),this.bankChips.gray=5}var n,t,r;return n=e,(t=[{key:"canAfford",value:function(e,n,t){var r=this,s=t?t.gray:e.tokens.gray;return!Object.keys(n).some((function(o){if(t)return n[o]>t[o]&&(!(s>=n[o]-t[o])||(s-=n[o]-t[o],!1));var a=r.getBonuses(e)[o]||0;return n[o]>e.tokens[o]+a&&(!(s>=n[o]-(e.tokens[o]+a))||(s-=n[o]-(e.tokens[o]+a),!1))}))}},{key:"getAvengersTags",value:function(e){return e.reduce((function(e,n){return e+n.avengersTags}),0)}},{key:"getBonuses",value:function(e,n){return Object.assign(y.reduce((function(e,n){return e[n]=0,e}),{}),(n||e.recruits).reduce((function(e,n){var t=n.bonus;return e[t]?e[t]++:e[t]=1,e}),{}))}},{key:"getOptions",value:function(){var e=this,n=[],t=this.players[this.whoseTurn],r=this.getBonuses(t),s=Object.values(t.tokens).reduce((function(e,n){return e+n}),0);if(s<10){var o=function t(r,o,a){if(0!==r)for(var l=0;l<o.length;l++)t(r-1,o.slice(l+1),a.concat([o[l]]));else if(a.length&&s<11-a.length){var i=!0;a.reduce((function(e,n){return e[n]--,e[n]<0&&(i=!1),e}),Object.assign({},e.bankChips)),i&&n.push({type:"3diff",tokens:a})}};o(3,y,[]),o(2,y,[]),o(1,y,[]),Object.keys(this.bankChips).forEach((function(t){"gray"!==t&&e.bankChips[t]>3&&s<9&&n.push({type:"2same",tokens:[t,t]})}))}return this.freeAgents.forEach((function(s,o){s.forEach((function(s,a){if(null!==s){var l=s.cost;if(t.reserves.length<3){var i={type:"reserve",level:o+1,index:a};e.bankChips.gray>0&&(i.tokens=["gray"]),n.push(i)}if(e.canAfford(t,l)){var u=Object.keys(l).reduce((function(e,n){var s=l[n]-r[n];if(s>0)if(s<=t.tokens[n])k(s).forEach((function(){e.push(n)}));else{var o=s-t.tokens[n];k(o).forEach((function(){e.push("gray")})),k(s-o).forEach((function(){e.push(n)}))}return e}),[]);n.push({type:"recruit",level:o+1,index:a,tokensToRemove:u})}}}))})),t.reserves.forEach((function(s,o){var a=s.cost;if(e.canAfford(t,a)){var l=Object.keys(a).reduce((function(e,n){var s=a[n]-r[n];if(s>0)if(s<=t.tokens[n])k(s).forEach((function(){e.push(n)}));else{var o=s-t.tokens[n];k(o).forEach((function(){e.push("gray")})),k(s-o).forEach((function(){e.push(n)}))}return e}),[]);n.push({type:"recruit",level:"reserves",index:o,tokensToRemove:l})}})),n.length?n.map((function(n){return n.score=e.getOptionScore(t,n),n})):[{type:"skip"}]}},{key:"getPoints",value:function(e){var n=e.recruits.reduce((function(e,n){return e+n.points}),0);return e===this.avengersTileOwner&&(n+=3),this.locations.forEach((function(t){e===t.owner&&(n+=3)})),n}},{key:"getOptionScore",value:function(e,n){var t=this,r={recruits:d(e.recruits),tokens:Object.assign({},e.tokens)};if("recruit"===n.type?("reserves"===n.level?r.recruits.push(e.reserves[n.index]):r.recruits.push(this.freeAgents[n.level-1][n.index]),n.tokensToRemove&&n.tokensToRemove.length&&n.tokensToRemove.forEach((function(e){r.tokens[e]--}))):n.tokens&&n.tokens.forEach((function(e){r.tokens[e]++})),this.meetsWinCriteria(e))return 9999;var s=r.recruits.reduce((function(e,n){return e+n.points}),0)-e.recruits.reduce((function(e,n){return e+n.points}),0);this.avengersTileOwner!==e&&(this.avengersTileOwner?this.getAvengersTags(r.recruits)>this.getAvengersTags(this.avengersTileOwner.recruits)&&(s+=3):this.getAvengersTags(r.recruits)>2&&(s+=3));var o=Object.assign({},r.tokens,this.getBonuses(e,r.recruits));this.locations.filter((function(e){return!e.owner})).forEach((function(n){t.canAfford(e,n.cost,o)&&(s+=3)})),!y.every((function(n){return!!e.recruits.filter((function(e){return e.bonus===n})).length}))&&y.every((function(e){return!!r.recruits.filter((function(n){return n.bonus===e})).length}))?s+=2:e.recruits.some((function(e){return e.bonus===r.recruits[r.recruits.length-1].bonus}))||(s+=1);var a=this.getBonuses(e,r.recruits),l=this.getBonuses(e);if(!e.recruits.some((function(e){return 3===e.level})))if(r.recruits.some((function(e){return 3===e.level})))s+=5;else{var i=0;this.freeAgents[2].forEach((function(n){if(n){var t=0,s=0;Object.keys(n.cost).forEach((function(o){var i=a[o],u=n.cost[o]-i,c=l[o],p=n.cost[o]-c;if(t+=Math.min(i,n.cost[o]),u>0){var g=Math.min(r.tokens[o],u);t+=g,n.cost[o]-(Math.min(i,n.cost[o])+g)>0&&(t+=Math.min(n.cost[o]-(Math.min(i,n.cost[o])+g),r.tokens.gray))}if(s+=Math.min(c,n.cost[o]),p>0){var v=Math.min(e.tokens[o],p);s+=v,n.cost[o]-(Math.min(c,n.cost[o])+v)>0&&(t+=Math.min(n.cost[o]-(Math.min(c,n.cost[o])+v),e.tokens.gray))}})),i+=(t-s)/Object.values(n.cost).reduce((function(e,n){return e+n}),0)}})),i>0&&(s+=4*i)}var u=0;return this.freeAgents.forEach((function(s,i){s.forEach((function(s,c){if(s&&(i!==n.level-1||c!==n.index)){var p=s.points+s.avengersTags;r.recruits.some((function(e){return s.bonus===e.bonus}))||(p+=2),3!==s.level||r.recruits.some((function(e){return 3===e.level}))||(p+=3);var g=Object.assign({},o);if(g[s.bonus]+=1,t.locations.filter((function(e){return!e.owner})).forEach((function(n){t.canAfford(e,n.cost,g)&&(p+=2)})),!t.canAfford(e,s.cost)&&t.canAfford(e,s.cost,g))u+=p;else{var v=0,d=0;Object.keys(s.cost).forEach((function(n){var t=a[n],o=s.cost[n]-t,i=l[n],u=s.cost[n]-i;if(v+=Math.min(t,s.cost[n]),o>0){var c=Math.min(r.tokens[n],o);v+=c,s.cost[n]-(Math.min(t,s.cost[n])+c)>0&&(v+=Math.min(s.cost[n]-(Math.min(t,s.cost[n])+c),r.tokens.gray))}if(d+=Math.min(i,s.cost[n]),u>0){var p=Math.min(e.tokens[n],u);d+=p,s.cost[n]-(Math.min(i,s.cost[n])+p)>0&&(v+=Math.min(s.cost[n]-(Math.min(i,s.cost[n])+p),e.tokens.gray))}}));var f=(v-d)/Object.values(s.cost).reduce((function(e,n){return e+n}),0);f>0&&(u+=p*f)}}}))})),s+=u,"recruit"===n.type?s*=8:"reserve"===n.type&&(s*=.5),s}},{key:"getState",value:function(e){var n=this,t=this.players.map((function(e){return e.points=n.getPoints(e),e})),r={avengersTileOwner:this.avengersTileOwner,bankChips:this.bankChips,decks:this.decks,freeAgents:this.freeAgents,locations:this.locations,options:[],players:t,round:this.round,whoseTurn:this.whoseTurn};return e||(r.options=this.getOptions().reduce((function(e,n){return e["3diff"===n.type||"2same"===n.type?"chips":n.type].push(n),e}),{chips:[],recruit:[],reserve:[]})),r}},{key:"makeMove",value:function(e){var n=this,t=this.players[this.whoseTurn],r=e.level&&"number"===typeof e.level?e.level-1:e.level?e.level:null;if("recruit"===e.type?"reserves"===r?(t.recruits.push(t.reserves[e.index]),t.reserves.splice(e.index,1)):(t.recruits.push(this.freeAgents[r][e.index]),this.decks[r].length?this.freeAgents[r][e.index]=this.decks[r].pop():this.freeAgents[r][e.index]=null):"reserve"===e.type&&(t.reserves.push(this.freeAgents[r][e.index]),this.decks[r].length?this.freeAgents[r][e.index]=this.decks[r].pop():this.freeAgents[r][e.index]=null),e.tokens&&e.tokens.length&&e.tokens.forEach((function(e){n.bankChips[e]--,t.tokens[e]++})),e.tokensToRemove&&e.tokensToRemove.length&&e.tokensToRemove.forEach((function(e){t.tokens[e]--,n.bankChips[e]++})),this.getAvengersTags(t.recruits)>2){var s=this.players.map((function(e){return{p:e,tags:n.getAvengersTags(e.recruits)}})).filter((function(e){return e.tags>2})).sort((function(e,n){return e.tags>n.tags?-1:1}));s.length>1&&s[0]>s[1]?this.avengersTileOwner=s[0].p:this.avengersTileOwner=t}return this.locations.forEach((function(e){!e.owner&&n.canAfford(t,e.cost,n.getBonuses(t))&&(e.owner=t)})),this.meetsWinCriteria(t)?new Promise((function(e){var t=n.getState(!0);t.gameOver=!0,e(t)})):(this.whoseTurn++,this.whoseTurn>this.players.length-1&&(this.round++,this.whoseTurn=0),new Promise((function(e){e(n.getState())})))}},{key:"meetsWinCriteria",value:function(e){return this.getPoints(e)>15&&y.every((function(n){return!!e.recruits.filter((function(e){return e.bonus===n})).length}))&&e.recruits.some((function(e){return 3===e.level}))}}])&&m(n.prototype,t),r&&m(n,r),e}();function j(){var e=(0,s.useState)(!0),n=e[0],t=e[1],a=(0,s.useState)(null),l=a[0],i=a[1],u=(0,s.useState)(null),c=u[0],p=u[1];function v(e,n,t){var r=t||r;r.makeMove(e,n).then((function(e){if(e.gameOver)p(e);else{var n=e.players[e.whoseTurn];n.computer?v(Object.keys(e.options).reduce((function(n,t){return n.concat(e.options[t])}),[]).sort((function(e,n){return e.score>n.score?-1:1}))[0],n,t):p(e)}}))}return(0,r.jsxs)("div",{children:[(0,r.jsx)(o.default,{children:(0,r.jsx)("title",{children:"Splendor MARVEL"})}),(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Splendor MARVEL"}),(0,r.jsx)("section",{className:n?"":"hide",children:(0,r.jsx)(f,{onStartGame:function(e){var n=e.filter((function(e){return!e.sittingOut})),r=new T(n),s=r.getState();t(!1),i(r),p(s),n[0].computer&&v(Object.keys(s.options).reduce((function(e,n){return e.concat(s.options[n])}),[]).sort((function(e,n){return e.score>n.score?-1:1}))[0],n[0],r)}})}),(0,r.jsx)("section",{className:n?"hide":"",children:(0,r.jsx)(g,{game:l,gameState:c,onMakeMove:v,onSetGameState:p})})]})]})}},8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5416)}])},9008:function(e,n,t){e.exports=t(2775)}},function(e){e.O(0,[774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);